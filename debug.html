<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>TrustedLogos Debug Test</h1>
    
    <div id="status"></div>
    
    <div class="status info">
        <h3>Environment Variables Check:</h3>
        <div id="env-check"></div>
    </div>
    
    <div class="status info">
        <h3>React App Loading Test:</h3>
        <div id="react-test">Testing React mount...</div>
    </div>

    <script>
        console.log('üîç Debug script loaded');
        
        // Test basic functionality
        const statusDiv = document.getElementById('status');
        statusDiv.innerHTML = '<div class="status success">‚úÖ Basic JavaScript working</div>';
        
        // Test environment variables (they won't be available in static HTML, but we can try)
        const envDiv = document.getElementById('env-check');
        envDiv.innerHTML = `
            <p>This is a static HTML test - env vars not available here</p>
            <p>Server time: ${new Date().toISOString()}</p>
        `;
        
        // Test if we can access the main app
        const reactDiv = document.getElementById('react-test');
        
        // Try to fetch the main page
        fetch('/')
            .then(response => response.text())
            .then(html => {
                if (html.includes('id="root"')) {
                    reactDiv.innerHTML = '<span style="color: green;">‚úÖ Main page accessible, React root div found</span>';
                    
                    // Try to detect if there are console errors
                    setTimeout(() => {
                        const errors = [];
                        const originalError = console.error;
                        console.error = function(...args) {
                            errors.push(args.join(' '));
                            originalError.apply(console, arguments);
                        };
                        
                        // Try to load the React app components
                        const script = document.createElement('script');
                        script.type = 'module';
                        script.src = '/src/main.tsx';
                        script.onload = () => {
                            setTimeout(() => {
                                if (errors.length > 0) {
                                    reactDiv.innerHTML += '<br><span style="color: red;">‚ùå Console errors detected: ' + errors.join(', ') + '</span>';
                                } else {
                                    reactDiv.innerHTML += '<br><span style="color: green;">‚úÖ No immediate console errors</span>';
                                }
                            }, 1000);
                        };
                        script.onerror = (e) => {
                            reactDiv.innerHTML += '<br><span style="color: red;">‚ùå Failed to load main.tsx: ' + e.message + '</span>';
                        };
                        document.head.appendChild(script);
                    }, 500);
                    
                } else {
                    reactDiv.innerHTML = '<span style="color: red;">‚ùå Main page not accessible or missing root div</span>';
                }
            })
            .catch(err => {
                reactDiv.innerHTML = '<span style="color: red;">‚ùå Failed to fetch main page: ' + err.message + '</span>';
            });
    </script>
</body>
</html>